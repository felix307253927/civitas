<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>objects/ui/ui.js - Civitas game</title>
    
    <meta name="description" content="Civitas is an empire-building game written in Javascript with the help of the jQuery library." />
    
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://sizeof.cat" target="_blank" class="menu-item" id="site_link" >sizeof(cat)</a></h2><h2><a href="https://github.com/sizeofcat/civitas" target="_blank" class="menu-item" id="github_link" >GitHub</a></h2><h3>Classes</h3><ul><li><a href="ai.html">ai</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ai.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ai.html#process">process</a></li></ul></li><li><a href="api.html">api</a><ul class='methods'><li data-type='method' style='display: none;'><a href="api.html#_request">_request</a></li><li data-type='method' style='display: none;'><a href="api.html#api_version">api_version</a></li><li data-type='method' style='display: none;'><a href="api.html#city_info">city_info</a></li><li data-type='method' style='display: none;'><a href="api.html#core">core</a></li><li data-type='method' style='display: none;'><a href="api.html#do_export">do_export</a></li><li data-type='method' style='display: none;'><a href="api.html#do_import">do_import</a></li><li data-type='method' style='display: none;'><a href="api.html#heartbeat">heartbeat</a></li><li data-type='method' style='display: none;'><a href="api.html#login">login</a></li><li data-type='method' style='display: none;'><a href="api.html#logout">logout</a></li><li data-type='method' style='display: none;'><a href="api.html#register">register</a></li></ul></li><li><a href="battleground.html">battleground</a><ul class='methods'><li data-type='method' style='display: none;'><a href="battleground.html#add">add</a></li><li data-type='method' style='display: none;'><a href="battleground.html#attack">attack</a></li><li data-type='method' style='display: none;'><a href="battleground.html#core">core</a></li><li data-type='method' style='display: none;'><a href="battleground.html#distance">distance</a></li><li data-type='method' style='display: none;'><a href="battleground.html#end_turn">end_turn</a></li><li data-type='method' style='display: none;'><a href="battleground.html#grid">grid</a></li><li data-type='method' style='display: none;'><a href="battleground.html#highlight_cells">highlight_cells</a></li><li data-type='method' style='display: none;'><a href="battleground.html#log">log</a></li><li data-type='method' style='display: none;'><a href="battleground.html#move">move</a></li><li data-type='method' style='display: none;'><a href="battleground.html#num_turns">num_turns</a></li><li data-type='method' style='display: none;'><a href="battleground.html#properties">properties</a></li><li data-type='method' style='display: none;'><a href="battleground.html#redraw">redraw</a></li><li data-type='method' style='display: none;'><a href="battleground.html#show_stats">show_stats</a></li></ul></li><li><a href="building.html">building</a><ul class='methods'><li data-type='method' style='display: none;'><a href="building.html#core">core</a></li><li data-type='method' style='display: none;'><a href="building.html#demolish">demolish</a></li><li data-type='method' style='display: none;'><a href="building.html#downgrade">downgrade</a></li><li data-type='method' style='display: none;'><a href="building.html#get_building_data">get_building_data</a></li><li data-type='method' style='display: none;'><a href="building.html#get_level">get_level</a></li><li data-type='method' style='display: none;'><a href="building.html#get_settlement_resources">get_settlement_resources</a></li><li data-type='method' style='display: none;'><a href="building.html#get_tax_amount">get_tax_amount</a></li><li data-type='method' style='display: none;'><a href="building.html#get_upgrade_costs">get_upgrade_costs</a></li><li data-type='method' style='display: none;'><a href="building.html#has_building_requirements">has_building_requirements</a></li><li data-type='method' style='display: none;'><a href="building.html#has_problems">has_problems</a></li><li data-type='method' style='display: none;'><a href="building.html#has_requirements">has_requirements</a></li><li data-type='method' style='display: none;'><a href="building.html#has_research_requirements">has_research_requirements</a></li><li data-type='method' style='display: none;'><a href="building.html#has_settlement_requirements">has_settlement_requirements</a></li><li data-type='method' style='display: none;'><a href="building.html#is_downgradable">is_downgradable</a></li><li data-type='method' style='display: none;'><a href="building.html#is_housing_building">is_housing_building</a></li><li data-type='method' style='display: none;'><a href="building.html#is_marketplace">is_marketplace</a></li><li data-type='method' style='display: none;'><a href="building.html#is_municipal_building">is_municipal_building</a></li><li data-type='method' style='display: none;'><a href="building.html#is_production_building">is_production_building</a></li><li data-type='method' style='display: none;'><a href="building.html#is_stopped">is_stopped</a></li><li data-type='method' style='display: none;'><a href="building.html#is_upgradable">is_upgradable</a></li><li data-type='method' style='display: none;'><a href="building.html#log_to_console">log_to_console</a></li><li data-type='method' style='display: none;'><a href="building.html#notify">notify</a></li><li data-type='method' style='display: none;'><a href="building.html#process">process</a></li><li data-type='method' style='display: none;'><a href="building.html#produce">produce</a></li><li data-type='method' style='display: none;'><a href="building.html#set_level">set_level</a></li><li data-type='method' style='display: none;'><a href="building.html#start_production">start_production</a></li><li data-type='method' style='display: none;'><a href="building.html#stop_production">stop_production</a></li><li data-type='method' style='display: none;'><a href="building.html#tax">tax</a></li><li data-type='method' style='display: none;'><a href="building.html#upgrade">upgrade</a></li></ul></li><li><a href="event.html">event</a><ul class='methods'><li data-type='method' style='display: none;'><a href="event.html#core">core</a></li><li data-type='method' style='display: none;'><a href="event.html#process">process</a></li></ul></li><li><a href="game.html">game</a><ul class='members'><li data-type='member' style='display: none;'><a href="game.html#.ACHIEVEMENTS">ACHIEVEMENTS</a></li><li data-type='member' style='display: none;'><a href="game.html#.ACTION_BUILD_PLACE">ACTION_BUILD_PLACE</a></li><li data-type='member' style='display: none;'><a href="game.html#.ACTION_CAMPAIGN">ACTION_CAMPAIGN</a></li><li data-type='member' style='display: none;'><a href="game.html#.ACTION_DIPLOMACY">ACTION_DIPLOMACY</a></li><li data-type='member' style='display: none;'><a href="game.html#.ACTION_RESEARCH">ACTION_RESEARCH</a></li><li data-type='member' style='display: none;'><a href="game.html#.API_ENTRY_POINT">API_ENTRY_POINT</a></li><li data-type='member' style='display: none;'><a href="game.html#.API_URL">API_URL</a></li><li data-type='member' style='display: none;'><a href="game.html#.API_VERSION">API_VERSION</a></li><li data-type='member' style='display: none;'><a href="game.html#.ARMOR_TYPE_CLOTH">ARMOR_TYPE_CLOTH</a></li><li data-type='member' style='display: none;'><a href="game.html#.ARMOR_TYPE_LEATHER">ARMOR_TYPE_LEATHER</a></li><li data-type='member' style='display: none;'><a href="game.html#.ARMOR_TYPE_MAIL">ARMOR_TYPE_MAIL</a></li><li data-type='member' style='display: none;'><a href="game.html#.ARMOR_TYPE_PLATE">ARMOR_TYPE_PLATE</a></li><li data-type='member' style='display: none;'><a href="game.html#.ARMY_COSTS">ARMY_COSTS</a></li><li data-type='member' style='display: none;'><a href="game.html#.ASSETS_URL">ASSETS_URL</a></li><li data-type='member' style='display: none;'><a href="game.html#.AUCTIONEER_DISCOUNT">AUCTIONEER_DISCOUNT</a></li><li data-type='member' style='display: none;'><a href="game.html#.AUTOSTART_MUSIC">AUTOSTART_MUSIC</a></li><li data-type='member' style='display: none;'><a href="game.html#.AVATARS">AVATARS</a></li><li data-type='member' style='display: none;'><a href="game.html#.BATTLEGROUND_ATTACK">BATTLEGROUND_ATTACK</a></li><li data-type='member' style='display: none;'><a href="game.html#.BATTLEGROUND_DEFENSE">BATTLEGROUND_DEFENSE</a></li><li data-type='member' style='display: none;'><a href="game.html#.BLACK_MARKET_DISCOUNT">BLACK_MARKET_DISCOUNT</a></li><li data-type='member' style='display: none;'><a href="game.html#.BUILDINGS">BUILDINGS</a></li><li data-type='member' style='display: none;'><a href="game.html#.BUILDINGS_ALL">BUILDINGS_ALL</a></li><li data-type='member' style='display: none;'><a href="game.html#.BUILDINGS_CATEGORIES">BUILDINGS_CATEGORIES</a></li><li data-type='member' style='display: none;'><a href="game.html#.CAMP">CAMP</a></li><li data-type='member' style='display: none;'><a href="game.html#.CAMPAIGN_ARMY">CAMPAIGN_ARMY</a></li><li data-type='member' style='display: none;'><a href="game.html#.CAMPAIGN_ARMY_RETURN">CAMPAIGN_ARMY_RETURN</a></li><li data-type='member' style='display: none;'><a href="game.html#.CAMPAIGN_CARAVAN">CAMPAIGN_CARAVAN</a></li><li data-type='member' style='display: none;'><a href="game.html#.CAMPAIGN_SPY">CAMPAIGN_SPY</a></li><li data-type='member' style='display: none;'><a href="game.html#.CARAVAN_COSTS">CARAVAN_COSTS</a></li><li data-type='member' style='display: none;'><a href="game.html#.CARAVAN_INFLUENCE">CARAVAN_INFLUENCE</a></li><li data-type='member' style='display: none;'><a href="game.html#.CITY">CITY</a></li><li data-type='member' style='display: none;'><a href="game.html#.CLIMATE_ARID">CLIMATE_ARID</a></li><li data-type='member' style='display: none;'><a href="game.html#.CLIMATE_POLAR">CLIMATE_POLAR</a></li><li data-type='member' style='display: none;'><a href="game.html#.CLIMATE_TEMPERATE">CLIMATE_TEMPERATE</a></li><li data-type='member' style='display: none;'><a href="game.html#.CLIMATE_TROPICAL">CLIMATE_TROPICAL</a></li><li data-type='member' style='display: none;'><a href="game.html#.CLIMATES">CLIMATES</a></li><li data-type='member' style='display: none;'><a href="game.html#.DEBUG">DEBUG</a></li><li data-type='member' style='display: none;'><a href="game.html#.DIFFICULTY_EASY">DIFFICULTY_EASY</a></li><li data-type='member' style='display: none;'><a href="game.html#.DIFFICULTY_HARD">DIFFICULTY_HARD</a></li><li data-type='member' style='display: none;'><a href="game.html#.DIFFICULTY_HARDCORE">DIFFICULTY_HARDCORE</a></li><li data-type='member' style='display: none;'><a href="game.html#.DIFFICULTY_MEDIUM">DIFFICULTY_MEDIUM</a></li><li data-type='member' style='display: none;'><a href="game.html#.DIPLOMACIES">DIPLOMACIES</a></li><li data-type='member' style='display: none;'><a href="game.html#.DIPLOMACY_ALLIANCE">DIPLOMACY_ALLIANCE</a></li><li data-type='member' style='display: none;'><a href="game.html#.DIPLOMACY_CEASE_FIRE">DIPLOMACY_CEASE_FIRE</a></li><li data-type='member' style='display: none;'><a href="game.html#.DIPLOMACY_PACT">DIPLOMACY_PACT</a></li><li data-type='member' style='display: none;'><a href="game.html#.DIPLOMACY_PROPOSE_ALLIANCE">DIPLOMACY_PROPOSE_ALLIANCE</a></li><li data-type='member' style='display: none;'><a href="game.html#.DIPLOMACY_PROPOSE_CEASE_FIRE">DIPLOMACY_PROPOSE_CEASE_FIRE</a></li><li data-type='member' style='display: none;'><a href="game.html#.DIPLOMACY_PROPOSE_JOIN">DIPLOMACY_PROPOSE_JOIN</a></li><li data-type='member' style='display: none;'><a href="game.html#.DIPLOMACY_PROPOSE_PACT">DIPLOMACY_PROPOSE_PACT</a></li><li data-type='member' style='display: none;'><a href="game.html#.DIPLOMACY_TRUCE">DIPLOMACY_TRUCE</a></li><li data-type='member' style='display: none;'><a href="game.html#.DIPLOMACY_VASSAL">DIPLOMACY_VASSAL</a></li><li data-type='member' style='display: none;'><a href="game.html#.DIPLOMACY_WAR">DIPLOMACY_WAR</a></li><li data-type='member' style='display: none;'><a href="game.html#.ENCRYPTION">ENCRYPTION</a></li><li data-type='member' style='display: none;'><a href="game.html#.EVENTS">EVENTS</a></li><li data-type='member' style='display: none;'><a href="game.html#.EXPORT_INFLUENCE">EXPORT_INFLUENCE</a></li><li data-type='member' style='display: none;'><a href="game.html#.EXPORT_PRESTIGE">EXPORT_PRESTIGE</a></li><li data-type='member' style='display: none;'><a href="game.html#.FAME_PER_TRADE">FAME_PER_TRADE</a></li><li data-type='member' style='display: none;'><a href="game.html#.HERO_CLASS_DRUID">HERO_CLASS_DRUID</a></li><li data-type='member' style='display: none;'><a href="game.html#.HERO_CLASS_LIST">HERO_CLASS_LIST</a></li><li data-type='member' style='display: none;'><a href="game.html#.HERO_CLASS_MAGE">HERO_CLASS_MAGE</a></li><li data-type='member' style='display: none;'><a href="game.html#.HERO_CLASS_PRIEST">HERO_CLASS_PRIEST</a></li><li data-type='member' style='display: none;'><a href="game.html#.HERO_CLASS_ROGUE">HERO_CLASS_ROGUE</a></li><li data-type='member' style='display: none;'><a href="game.html#.HERO_CLASS_SHAMAN">HERO_CLASS_SHAMAN</a></li><li data-type='member' style='display: none;'><a href="game.html#.HERO_CLASS_WARRIOR">HERO_CLASS_WARRIOR</a></li><li data-type='member' style='display: none;'><a href="game.html#.HEROES">HEROES</a></li><li data-type='member' style='display: none;'><a href="game.html#.IMPORT_INFLUENCE">IMPORT_INFLUENCE</a></li><li data-type='member' style='display: none;'><a href="game.html#.IMPORT_PRESTIGE">IMPORT_PRESTIGE</a></li><li data-type='member' style='display: none;'><a href="game.html#.IMPORTANCE_HIGH">IMPORTANCE_HIGH</a></li><li data-type='member' style='display: none;'><a href="game.html#.IMPORTANCE_LOW">IMPORTANCE_LOW</a></li><li data-type='member' style='display: none;'><a href="game.html#.IMPORTANCE_MEDIUM">IMPORTANCE_MEDIUM</a></li><li data-type='member' style='display: none;'><a href="game.html#.IMPORTANCE_VITAL">IMPORTANCE_VITAL</a></li><li data-type='member' style='display: none;'><a href="game.html#.INITIAL_SEED">INITIAL_SEED</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_BACKPACK_NUM">ITEM_BACKPACK_NUM</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_QUALITY_COLORS">ITEM_QUALITY_COLORS</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_QUALITY_COMMON">ITEM_QUALITY_COMMON</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_QUALITY_EPIC">ITEM_QUALITY_EPIC</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_QUALITY_LEGENDARY">ITEM_QUALITY_LEGENDARY</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_QUALITY_LIST">ITEM_QUALITY_LIST</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_QUALITY_RARE">ITEM_QUALITY_RARE</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_SLOT_ANY_HAND">ITEM_SLOT_ANY_HAND</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_SLOT_CHEST">ITEM_SLOT_CHEST</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_SLOT_FEET">ITEM_SLOT_FEET</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_SLOT_HANDS">ITEM_SLOT_HANDS</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_SLOT_HEAD">ITEM_SLOT_HEAD</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_SLOT_LEGS">ITEM_SLOT_LEGS</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_SLOT_MAIN_HAND">ITEM_SLOT_MAIN_HAND</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_SLOT_NECK">ITEM_SLOT_NECK</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_SLOT_NONE">ITEM_SLOT_NONE</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_SLOT_OFF_HAND">ITEM_SLOT_OFF_HAND</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_SLOT_RING">ITEM_SLOT_RING</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_SLOT_SHOULDER">ITEM_SLOT_SHOULDER</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_SLOT_WAIST">ITEM_SLOT_WAIST</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_SLOTS_LIST">ITEM_SLOTS_LIST</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_SLOTS_NUM">ITEM_SLOTS_NUM</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_TYPE_ARMOR">ITEM_TYPE_ARMOR</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_TYPE_OTHER">ITEM_TYPE_OTHER</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_TYPE_WEAPON">ITEM_TYPE_WEAPON</a></li><li data-type='member' style='display: none;'><a href="game.html#.ITEM_WEAPON_DAGGER_WICKED">ITEM_WEAPON_DAGGER_WICKED</a></li><li data-type='member' style='display: none;'><a href="game.html#.MAX_CONSOLE_LINES">MAX_CONSOLE_LINES</a></li><li data-type='member' style='display: none;'><a href="game.html#.MAX_ESPIONAGE_SUCESS_RATE">MAX_ESPIONAGE_SUCESS_RATE</a></li><li data-type='member' style='display: none;'><a href="game.html#.MAX_ESPIONAGE_VALUE">MAX_ESPIONAGE_VALUE</a></li><li data-type='member' style='display: none;'><a href="game.html#.MAX_FAITH_VALUE">MAX_FAITH_VALUE</a></li><li data-type='member' style='display: none;'><a href="game.html#.MAX_INFLUENCE_VALUE">MAX_INFLUENCE_VALUE</a></li><li data-type='member' style='display: none;'><a href="game.html#.MAX_PRESTIGE_VALUE">MAX_PRESTIGE_VALUE</a></li><li data-type='member' style='display: none;'><a href="game.html#.MAX_RESEARCH_VALUE">MAX_RESEARCH_VALUE</a></li><li data-type='member' style='display: none;'><a href="game.html#.MAX_SETTLEMENT_ICONS">MAX_SETTLEMENT_ICONS</a></li><li data-type='member' style='display: none;'><a href="game.html#.MAX_SETTLEMENT_LEVEL">MAX_SETTLEMENT_LEVEL</a></li><li data-type='member' style='display: none;'><a href="game.html#.MAX_SETTLEMENTS">MAX_SETTLEMENTS</a></li><li data-type='member' style='display: none;'><a href="game.html#.MERCENARIES">MERCENARIES</a></li><li data-type='member' style='display: none;'><a href="game.html#.METROPOLIS">METROPOLIS</a></li><li data-type='member' style='display: none;'><a href="game.html#.MIN_ESPIONAGE_VALUE">MIN_ESPIONAGE_VALUE</a></li><li data-type='member' style='display: none;'><a href="game.html#.MIN_FAITH_VALUE">MIN_FAITH_VALUE</a></li><li data-type='member' style='display: none;'><a href="game.html#.MIN_FAME_VALUE">MIN_FAME_VALUE</a></li><li data-type='member' style='display: none;'><a href="game.html#.MIN_INFLUENCE_VALUE">MIN_INFLUENCE_VALUE</a></li><li data-type='member' style='display: none;'><a href="game.html#.MIN_PRESTIGE_VALUE">MIN_PRESTIGE_VALUE</a></li><li data-type='member' style='display: none;'><a href="game.html#.MIN_RESEARCH_VALUE">MIN_RESEARCH_VALUE</a></li><li data-type='member' style='display: none;'><a href="game.html#.MODE_MULTIPLAYER">MODE_MULTIPLAYER</a></li><li data-type='member' style='display: none;'><a href="game.html#.MODE_SINGLEPLAYER">MODE_SINGLEPLAYER</a></li><li data-type='member' style='display: none;'><a href="game.html#.NAMES">NAMES</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_ASSYRIAN">NATION_ASSYRIAN</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_CARTHAGINIAN">NATION_CARTHAGINIAN</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_CHINESE">NATION_CHINESE</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_EGYPTIAN">NATION_EGYPTIAN</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_FRANKS">NATION_FRANKS</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_FRENCH">NATION_FRENCH</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_GREEK">NATION_GREEK</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_INDIAN">NATION_INDIAN</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_JAPANESE">NATION_JAPANESE</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_KHMER">NATION_KHMER</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_MALINESE">NATION_MALINESE</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_MONGOLIAN">NATION_MONGOLIAN</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_NIGERIAN">NATION_NIGERIAN</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_PERSAN">NATION_PERSAN</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_PHOENICIAN">NATION_PHOENICIAN</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_ROMAN">NATION_ROMAN</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_RUSSIAN">NATION_RUSSIAN</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_SPANISH">NATION_SPANISH</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_SUDANESE">NATION_SUDANESE</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_SUMERIAN">NATION_SUMERIAN</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_THRACIAN">NATION_THRACIAN</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATION_TIBETAN">NATION_TIBETAN</a></li><li data-type='member' style='display: none;'><a href="game.html#.NATIONS">NATIONS</a></li><li data-type='member' style='display: none;'><a href="game.html#.NOTIFICATION_MISSING_REQ">NOTIFICATION_MISSING_REQ</a></li><li data-type='member' style='display: none;'><a href="game.html#.NOTIFICATION_MISSING_RES">NOTIFICATION_MISSING_RES</a></li><li data-type='member' style='display: none;'><a href="game.html#.NOTIFICATION_PAUSED">NOTIFICATION_PAUSED</a></li><li data-type='member' style='display: none;'><a href="game.html#.NOTIFICATION_SETTLEMENT_LOW_LEVEL">NOTIFICATION_SETTLEMENT_LOW_LEVEL</a></li><li data-type='member' style='display: none;'><a href="game.html#.NOTIFY_ACHIEVEMENT">NOTIFY_ACHIEVEMENT</a></li><li data-type='member' style='display: none;'><a href="game.html#.NOTIFY_ERROR">NOTIFY_ERROR</a></li><li data-type='member' style='display: none;'><a href="game.html#.NOTIFY_EVENT">NOTIFY_EVENT</a></li><li data-type='member' style='display: none;'><a href="game.html#.NOTIFY_NORMAL">NOTIFY_NORMAL</a></li><li data-type='member' style='display: none;'><a href="game.html#.NOTIFY_RELIGION">NOTIFY_RELIGION</a></li><li data-type='member' style='display: none;'><a href="game.html#.NOTIFY_RESEARCH">NOTIFY_RESEARCH</a></li><li data-type='member' style='display: none;'><a href="game.html#.NOTIFY_WAR">NOTIFY_WAR</a></li><li data-type='member' style='display: none;'><a href="game.html#.PERSONALITIES">PERSONALITIES</a></li><li data-type='member' style='display: none;'><a href="game.html#.PERSONALITY_BALANCED">PERSONALITY_BALANCED</a></li><li data-type='member' style='display: none;'><a href="game.html#.PERSONALITY_DIPLOMAT">PERSONALITY_DIPLOMAT</a></li><li data-type='member' style='display: none;'><a href="game.html#.PERSONALITY_WARLORD">PERSONALITY_WARLORD</a></li><li data-type='member' style='display: none;'><a href="game.html#.PLACE_RESOURCES_REQ">PLACE_RESOURCES_REQ</a></li><li data-type='member' style='display: none;'><a href="game.html#.PLACE_TIME_TO_BUILD">PLACE_TIME_TO_BUILD</a></li><li data-type='member' style='display: none;'><a href="game.html#.POPULATION_PER_LEVEL">POPULATION_PER_LEVEL</a></li><li data-type='member' style='display: none;'><a href="game.html#.RANDOM_UNCOMMON">RANDOM_UNCOMMON</a></li><li data-type='member' style='display: none;'><a href="game.html#.RELIGION_BUDDHISM">RELIGION_BUDDHISM</a></li><li data-type='member' style='display: none;'><a href="game.html#.RELIGION_CHRISTIANITY">RELIGION_CHRISTIANITY</a></li><li data-type='member' style='display: none;'><a href="game.html#.RELIGION_CONFUCIANISM">RELIGION_CONFUCIANISM</a></li><li data-type='member' style='display: none;'><a href="game.html#.RELIGION_HINDUISM">RELIGION_HINDUISM</a></li><li data-type='member' style='display: none;'><a href="game.html#.RELIGION_ISLAM">RELIGION_ISLAM</a></li><li data-type='member' style='display: none;'><a href="game.html#.RELIGION_JUDAISM">RELIGION_JUDAISM</a></li><li data-type='member' style='display: none;'><a href="game.html#.RELIGION_NONE">RELIGION_NONE</a></li><li data-type='member' style='display: none;'><a href="game.html#.RELIGION_TAOISM">RELIGION_TAOISM</a></li><li data-type='member' style='display: none;'><a href="game.html#.RELIGIONS">RELIGIONS</a></li><li data-type='member' style='display: none;'><a href="game.html#.RESOURCE_CATEGORIES">RESOURCE_CATEGORIES</a></li><li data-type='member' style='display: none;'><a href="game.html#.RESOURCES">RESOURCES</a></li><li data-type='member' style='display: none;'><a href="game.html#.SCOUT_COSTS">SCOUT_COSTS</a></li><li data-type='member' style='display: none;'><a href="game.html#.SCOUT_MISSION_INFO">SCOUT_MISSION_INFO</a></li><li data-type='member' style='display: none;'><a href="game.html#.SEASON_AUTUMN">SEASON_AUTUMN</a></li><li data-type='member' style='display: none;'><a href="game.html#.SEASON_SPRING">SEASON_SPRING</a></li><li data-type='member' style='display: none;'><a href="game.html#.SEASON_SUMMER">SEASON_SUMMER</a></li><li data-type='member' style='display: none;'><a href="game.html#.SEASON_WINTER">SEASON_WINTER</a></li><li data-type='member' style='display: none;'><a href="game.html#.SEASONS">SEASONS</a></li><li data-type='member' style='display: none;'><a href="game.html#.SECONDS_TO_DAY">SECONDS_TO_DAY</a></li><li data-type='member' style='display: none;'><a href="game.html#.SETTLEMENT_NAMES">SETTLEMENT_NAMES</a></li><li data-type='member' style='display: none;'><a href="game.html#.SETTLEMENTS">SETTLEMENTS</a></li><li data-type='member' style='display: none;'><a href="game.html#.SHIPS">SHIPS</a></li><li data-type='member' style='display: none;'><a href="game.html#.SOLDIERS">SOLDIERS</a></li><li data-type='member' style='display: none;'><a href="game.html#.SPECIAL_PLACE">SPECIAL_PLACE</a></li><li data-type='member' style='display: none;'><a href="game.html#.SPY_COSTS">SPY_COSTS</a></li><li data-type='member' style='display: none;'><a href="game.html#.SPY_MISSION_INFLUENCE">SPY_MISSION_INFLUENCE</a></li><li data-type='member' style='display: none;'><a href="game.html#.SPY_MISSION_INSTIGATE">SPY_MISSION_INSTIGATE</a></li><li data-type='member' style='display: none;'><a href="game.html#.SPY_MISSION_NONE">SPY_MISSION_NONE</a></li><li data-type='member' style='display: none;'><a href="game.html#.SPY_MISSION_RELIGION">SPY_MISSION_RELIGION</a></li><li data-type='member' style='display: none;'><a href="game.html#.SPY_MISSION_STEAL_RESOURCES">SPY_MISSION_STEAL_RESOURCES</a></li><li data-type='member' style='display: none;'><a href="game.html#.SPY_MISSIONS">SPY_MISSIONS</a></li><li data-type='member' style='display: none;'><a href="game.html#.STORAGE_KEY">STORAGE_KEY</a></li><li data-type='member' style='display: none;'><a href="game.html#.TECHNOLOGIES">TECHNOLOGIES</a></li><li data-type='member' style='display: none;'><a href="game.html#.TRADES_ADDITION">TRADES_ADDITION</a></li><li data-type='member' style='display: none;'><a href="game.html#.TRADES_DISCOUNT">TRADES_DISCOUNT</a></li><li data-type='member' style='display: none;'><a href="game.html#.VERSION">VERSION</a></li><li data-type='member' style='display: none;'><a href="game.html#.VILLAGE">VILLAGE</a></li><li data-type='member' style='display: none;'><a href="game.html#.WEAPON_TYPE_MELEE">WEAPON_TYPE_MELEE</a></li><li data-type='member' style='display: none;'><a href="game.html#.WEAPON_TYPE_MELEE_AXE_ONE_HAND">WEAPON_TYPE_MELEE_AXE_ONE_HAND</a></li><li data-type='member' style='display: none;'><a href="game.html#.WEAPON_TYPE_MELEE_AXE_TWO_HAND">WEAPON_TYPE_MELEE_AXE_TWO_HAND</a></li><li data-type='member' style='display: none;'><a href="game.html#.WEAPON_TYPE_MELEE_DAGGER">WEAPON_TYPE_MELEE_DAGGER</a></li><li data-type='member' style='display: none;'><a href="game.html#.WEAPON_TYPE_MELEE_FIST">WEAPON_TYPE_MELEE_FIST</a></li><li data-type='member' style='display: none;'><a href="game.html#.WEAPON_TYPE_MELEE_MACE_ONE_HAND">WEAPON_TYPE_MELEE_MACE_ONE_HAND</a></li><li data-type='member' style='display: none;'><a href="game.html#.WEAPON_TYPE_MELEE_MACE_TWO_HAND">WEAPON_TYPE_MELEE_MACE_TWO_HAND</a></li><li data-type='member' style='display: none;'><a href="game.html#.WEAPON_TYPE_MELEE_POLEARM">WEAPON_TYPE_MELEE_POLEARM</a></li><li data-type='member' style='display: none;'><a href="game.html#.WEAPON_TYPE_MELEE_STAFF">WEAPON_TYPE_MELEE_STAFF</a></li><li data-type='member' style='display: none;'><a href="game.html#.WEAPON_TYPE_MELEE_SWORD_ONE_HAND">WEAPON_TYPE_MELEE_SWORD_ONE_HAND</a></li><li data-type='member' style='display: none;'><a href="game.html#.WEAPON_TYPE_MELEE_SWORD_TWO_HAND">WEAPON_TYPE_MELEE_SWORD_TWO_HAND</a></li><li data-type='member' style='display: none;'><a href="game.html#.WEAPON_TYPE_RANGED">WEAPON_TYPE_RANGED</a></li><li data-type='member' style='display: none;'><a href="game.html#.WEAPON_TYPE_RANGED_BOW">WEAPON_TYPE_RANGED_BOW</a></li><li data-type='member' style='display: none;'><a href="game.html#.WEAPON_TYPE_RANGED_CROSSBOW">WEAPON_TYPE_RANGED_CROSSBOW</a></li><li data-type='member' style='display: none;'><a href="game.html#.WEAPON_TYPE_RANGED_GUN">WEAPON_TYPE_RANGED_GUN</a></li><li data-type='member' style='display: none;'><a href="game.html#.WEAPON_TYPE_RANGED_THROWN">WEAPON_TYPE_RANGED_THROWN</a></li><li data-type='member' style='display: none;'><a href="game.html#.WORLD_BEAUTIFY">WORLD_BEAUTIFY</a></li><li data-type='member' style='display: none;'><a href="game.html#.WORLD_EROSION">WORLD_EROSION</a></li><li data-type='member' style='display: none;'><a href="game.html#.WORLD_GRID">WORLD_GRID</a></li><li data-type='member' style='display: none;'><a href="game.html#.WORLD_HEX_SIZE">WORLD_HEX_SIZE</a></li><li data-type='member' style='display: none;'><a href="game.html#.WORLD_SIZE_HEIGHT">WORLD_SIZE_HEIGHT</a></li><li data-type='member' style='display: none;'><a href="game.html#.WORLD_SIZE_WIDTH">WORLD_SIZE_WIDTH</a></li><li data-type='member' style='display: none;'><a href="game.html#.YEARLY_INFLUENCE_GAIN">YEARLY_INFLUENCE_GAIN</a></li><li data-type='member' style='display: none;'><a href="game.html#.YEARLY_INFLUENCE_LOSS">YEARLY_INFLUENCE_LOSS</a></li></ul><ul class='methods'><li data-type='method' style='display: none;'><a href="game.html#.calc_price">calc_price</a></li><li data-type='method' style='display: none;'><a href="game.html#.calc_price_minus_discount">calc_price_minus_discount</a></li><li data-type='method' style='display: none;'><a href="game.html#.calc_price_plus_discount">calc_price_plus_discount</a></li><li data-type='method' style='display: none;'><a href="game.html#.get_damage_points">get_damage_points</a></li><li data-type='method' style='display: none;'><a href="game.html#.get_health_points">get_health_points</a></li><li data-type='method' style='display: none;'><a href="game.html#.get_mana_points">get_mana_points</a></li><li data-type='method' style='display: none;'><a href="game.html#.get_now">get_now</a></li><li data-type='method' style='display: none;'><a href="game.html#.get_random">get_random</a></li><li data-type='method' style='display: none;'><a href="game.html#.get_random_by_importance">get_random_by_importance</a></li><li data-type='method' style='display: none;'><a href="game.html#.get_random_unique">get_random_unique</a></li><li data-type='method' style='display: none;'><a href="game.html#.get_resource_name">get_resource_name</a></li><li data-type='method' style='display: none;'><a href="game.html#.get_up_number">get_up_number</a></li><li data-type='method' style='display: none;'><a href="game.html#.nice_numbers">nice_numbers</a></li><li data-type='method' style='display: none;'><a href="game.html#.resource_exists">resource_exists</a></li><li data-type='method' style='display: none;'><a href="game.html#.time_since">time_since</a></li><li data-type='method' style='display: none;'><a href="game.html#achievement_points">achievement_points</a></li><li data-type='method' style='display: none;'><a href="game.html#achievements">achievements</a></li><li data-type='method' style='display: none;'><a href="game.html#achievements_process">achievements_process</a></li><li data-type='method' style='display: none;'><a href="game.html#add_random_place">add_random_place</a></li><li data-type='method' style='display: none;'><a href="game.html#add_random_settlement">add_random_settlement</a></li><li data-type='method' style='display: none;'><a href="game.html#add_settlement">add_settlement</a></li><li data-type='method' style='display: none;'><a href="game.html#advice">advice</a></li><li data-type='method' style='display: none;'><a href="game.html#auctioneer">auctioneer</a></li><li data-type='method' style='display: none;'><a href="game.html#auctioneer_add">auctioneer_add</a></li><li data-type='method' style='display: none;'><a href="game.html#auctioneer_delete">auctioneer_delete</a></li><li data-type='method' style='display: none;'><a href="game.html#auctioneer_process">auctioneer_process</a></li><li data-type='method' style='display: none;'><a href="game.html#auctioneer_reset">auctioneer_reset</a></li><li data-type='method' style='display: none;'><a href="game.html#black_market">black_market</a></li><li data-type='method' style='display: none;'><a href="game.html#black_market_add">black_market_add</a></li><li data-type='method' style='display: none;'><a href="game.html#black_market_delete">black_market_delete</a></li><li data-type='method' style='display: none;'><a href="game.html#black_market_reset">black_market_reset</a></li><li data-type='method' style='display: none;'><a href="game.html#date">date</a></li><li data-type='method' style='display: none;'><a href="game.html#decrypt">decrypt</a></li><li data-type='method' style='display: none;'><a href="game.html#difficulty">difficulty</a></li><li data-type='method' style='display: none;'><a href="game.html#disband_city">disband_city</a></li><li data-type='method' style='display: none;'><a href="game.html#do_achievement">do_achievement</a></li><li data-type='method' style='display: none;'><a href="game.html#do_research">do_research</a></li><li data-type='method' style='display: none;'><a href="game.html#encrypt">encrypt</a></li><li data-type='method' style='display: none;'><a href="game.html#export">export</a></li><li data-type='method' style='display: none;'><a href="game.html#format_date">format_date</a></li><li data-type='method' style='display: none;'><a href="game.html#generate_random_army">generate_random_army</a></li><li data-type='method' style='display: none;'><a href="game.html#generate_random_navy">generate_random_navy</a></li><li data-type='method' style='display: none;'><a href="game.html#generate_random_resources">generate_random_resources</a></li><li data-type='method' style='display: none;'><a href="game.html#generate_random_settlement_data">generate_random_settlement_data</a></li><li data-type='method' style='display: none;'><a href="game.html#get_achievement_config_data">get_achievement_config_data</a></li><li data-type='method' style='display: none;'><a href="game.html#get_building_config_data">get_building_config_data</a></li><li data-type='method' style='display: none;'><a href="game.html#get_buildings_for_settlement">get_buildings_for_settlement</a></li><li data-type='method' style='display: none;'><a href="game.html#get_hero_config_data">get_hero_config_data</a></li><li data-type='method' style='display: none;'><a href="game.html#get_num_settlements">get_num_settlements</a></li><li data-type='method' style='display: none;'><a href="game.html#get_place">get_place</a></li><li data-type='method' style='display: none;'><a href="game.html#get_prod_modifier">get_prod_modifier</a></li><li data-type='method' style='display: none;'><a href="game.html#get_random_nationality">get_random_nationality</a></li><li data-type='method' style='display: none;'><a href="game.html#get_random_personality">get_random_personality</a></li><li data-type='method' style='display: none;'><a href="game.html#get_random_religion">get_random_religion</a></li><li data-type='method' style='display: none;'><a href="game.html#get_random_resource">get_random_resource</a></li><li data-type='method' style='display: none;'><a href="game.html#get_research_config_data">get_research_config_data</a></li><li data-type='method' style='display: none;'><a href="game.html#get_settings">get_settings</a></li><li data-type='method' style='display: none;'><a href="game.html#get_settlement">get_settlement</a></li><li data-type='method' style='display: none;'><a href="game.html#get_settlements">get_settlements</a></li><li data-type='method' style='display: none;'><a href="game.html#get_storage_data">get_storage_data</a></li><li data-type='method' style='display: none;'><a href="game.html#get_tax_modifier">get_tax_modifier</a></li><li data-type='method' style='display: none;'><a href="game.html#has_achievement">has_achievement</a></li><li data-type='method' style='display: none;'><a href="game.html#has_research">has_research</a></li><li data-type='method' style='display: none;'><a href="game.html#has_research_in_queue">has_research_in_queue</a></li><li data-type='method' style='display: none;'><a href="game.html#has_storage_data">has_storage_data</a></li><li data-type='method' style='display: none;'><a href="game.html#import">import</a></li><li data-type='method' style='display: none;'><a href="game.html#in_queue">in_queue</a></li><li data-type='method' style='display: none;'><a href="game.html#is_autumn">is_autumn</a></li><li data-type='method' style='display: none;'><a href="game.html#is_paused">is_paused</a></li><li data-type='method' style='display: none;'><a href="game.html#is_spring">is_spring</a></li><li data-type='method' style='display: none;'><a href="game.html#is_summer">is_summer</a></li><li data-type='method' style='display: none;'><a href="game.html#is_winter">is_winter</a></li><li data-type='method' style='display: none;'><a href="game.html#level_to_fame">level_to_fame</a></li><li data-type='method' style='display: none;'><a href="game.html#level_up">level_up</a></li><li data-type='method' style='display: none;'><a href="game.html#load_game_data">load_game_data</a></li><li data-type='method' style='display: none;'><a href="game.html#mode">mode</a></li><li data-type='method' style='display: none;'><a href="game.html#new_game">new_game</a></li><li data-type='method' style='display: none;'><a href="game.html#pause">pause</a></li><li data-type='method' style='display: none;'><a href="game.html#queue">queue</a></li><li data-type='method' style='display: none;'><a href="game.html#queue_add">queue_add</a></li><li data-type='method' style='display: none;'><a href="game.html#queue_process_action">queue_process_action</a></li><li data-type='method' style='display: none;'><a href="game.html#queue_remove_action">queue_remove_action</a></li><li data-type='method' style='display: none;'><a href="game.html#refresh_trades">refresh_trades</a></li><li data-type='method' style='display: none;'><a href="game.html#research">research</a></li><li data-type='method' style='display: none;'><a href="game.html#reset_storage_data">reset_storage_data</a></li><li data-type='method' style='display: none;'><a href="game.html#save">save</a></li><li data-type='method' style='display: none;'><a href="game.html#save_and_refresh">save_and_refresh</a></li><li data-type='method' style='display: none;'><a href="game.html#season">season</a></li><li data-type='method' style='display: none;'><a href="game.html#set_settings">set_settings</a></li><li data-type='method' style='display: none;'><a href="game.html#set_storage_data">set_storage_data</a></li><li data-type='method' style='display: none;'><a href="game.html#ui">ui</a></li><li data-type='method' style='display: none;'><a href="game.html#unpause">unpause</a></li><li data-type='method' style='display: none;'><a href="game.html#version">version</a></li><li data-type='method' style='display: none;'><a href="game.html#world">world</a></li></ul></li><li><a href="hero.html">hero</a><ul class='methods'><li data-type='method' style='display: none;'><a href="hero.html#core">core</a></li></ul></li><li><a href="jailer.html">jailer</a><ul class='methods'><li data-type='method' style='display: none;'><a href="jailer.html#check">check</a></li><li data-type='method' style='display: none;'><a href="jailer.html#core">core</a></li></ul></li><li><a href="place.html">place</a><ul class='methods'><li data-type='method' style='display: none;'><a href="place.html#core">core</a></li><li data-type='method' style='display: none;'><a href="place.html#export">export</a></li></ul></li><li><a href="settlement.html">settlement</a><ul class='methods'><li data-type='method' style='display: none;'><a href="settlement.html#add_to_storage">add_to_storage</a></li><li data-type='method' style='display: none;'><a href="settlement.html#adjust_campaign_cost">adjust_campaign_cost</a></li><li data-type='method' style='display: none;'><a href="settlement.html#army">army</a></li><li data-type='method' style='display: none;'><a href="settlement.html#build">build</a></li><li data-type='method' style='display: none;'><a href="settlement.html#buy_from_settlement">buy_from_settlement</a></li><li data-type='method' style='display: none;'><a href="settlement.html#can_build_ships">can_build_ships</a></li><li data-type='method' style='display: none;'><a href="settlement.html#can_diplomacy">can_diplomacy</a></li><li data-type='method' style='display: none;'><a href="settlement.html#can_recruit_heroes">can_recruit_heroes</a></li><li data-type='method' style='display: none;'><a href="settlement.html#can_recruit_soldiers">can_recruit_soldiers</a></li><li data-type='method' style='display: none;'><a href="settlement.html#can_research">can_research</a></li><li data-type='method' style='display: none;'><a href="settlement.html#can_trade">can_trade</a></li><li data-type='method' style='display: none;'><a href="settlement.html#change_religion">change_religion</a></li><li data-type='method' style='display: none;'><a href="settlement.html#climate">climate</a></li><li data-type='method' style='display: none;'><a href="settlement.html#coins">coins</a></li><li data-type='method' style='display: none;'><a href="settlement.html#color">color</a></li><li data-type='method' style='display: none;'><a href="settlement.html#core">core</a></li><li data-type='method' style='display: none;'><a href="settlement.html#dec_coins">dec_coins</a></li><li data-type='method' style='display: none;'><a href="settlement.html#diplomacy">diplomacy</a></li><li data-type='method' style='display: none;'><a href="settlement.html#disband_ship">disband_ship</a></li><li data-type='method' style='display: none;'><a href="settlement.html#disband_soldier">disband_soldier</a></li><li data-type='method' style='display: none;'><a href="settlement.html#espionage">espionage</a></li><li data-type='method' style='display: none;'><a href="settlement.html#export">export</a></li><li data-type='method' style='display: none;'><a href="settlement.html#export_buildings">export_buildings</a></li><li data-type='method' style='display: none;'><a href="settlement.html#faith">faith</a></li><li data-type='method' style='display: none;'><a href="settlement.html#fame">fame</a></li><li data-type='method' style='display: none;'><a href="settlement.html#get_building">get_building</a></li><li data-type='method' style='display: none;'><a href="settlement.html#get_building_data">get_building_data</a></li><li data-type='method' style='display: none;'><a href="settlement.html#get_buildings">get_buildings</a></li><li data-type='method' style='display: none;'><a href="settlement.html#get_diplomacy_status">get_diplomacy_status</a></li><li data-type='method' style='display: none;'><a href="settlement.html#get_influence_with_settlement">get_influence_with_settlement</a></li><li data-type='method' style='display: none;'><a href="settlement.html#get_rank">get_rank</a></li><li data-type='method' style='display: none;'><a href="settlement.html#get_resources">get_resources</a></li><li data-type='method' style='display: none;'><a href="settlement.html#get_spoils">get_spoils</a></li><li data-type='method' style='display: none;'><a href="settlement.html#get_trades">get_trades</a></li><li data-type='method' style='display: none;'><a href="settlement.html#get_trades_exports">get_trades_exports</a></li><li data-type='method' style='display: none;'><a href="settlement.html#get_trades_imports">get_trades_imports</a></li><li data-type='method' style='display: none;'><a href="settlement.html#get_type">get_type</a></li><li data-type='method' style='display: none;'><a href="settlement.html#has_any_resources">has_any_resources</a></li><li data-type='method' style='display: none;'><a href="settlement.html#has_coins">has_coins</a></li><li data-type='method' style='display: none;'><a href="settlement.html#has_resource">has_resource</a></li><li data-type='method' style='display: none;'><a href="settlement.html#has_resources">has_resources</a></li><li data-type='method' style='display: none;'><a href="settlement.html#has_same_nationality">has_same_nationality</a></li><li data-type='method' style='display: none;'><a href="settlement.html#has_ships">has_ships</a></li><li data-type='method' style='display: none;'><a href="settlement.html#has_soldiers">has_soldiers</a></li><li data-type='method' style='display: none;'><a href="settlement.html#has_storage_space_for">has_storage_space_for</a></li><li data-type='method' style='display: none;'><a href="settlement.html#heroes">heroes</a></li><li data-type='method' style='display: none;'><a href="settlement.html#icon">icon</a></li><li data-type='method' style='display: none;'><a href="settlement.html#id">id</a></li><li data-type='method' style='display: none;'><a href="settlement.html#inc_coins">inc_coins</a></li><li data-type='method' style='display: none;'><a href="settlement.html#is_building_built">is_building_built</a></li><li data-type='method' style='display: none;'><a href="settlement.html#is_camp">is_camp</a></li><li data-type='method' style='display: none;'><a href="settlement.html#is_city">is_city</a></li><li data-type='method' style='display: none;'><a href="settlement.html#is_mercenary_recruited">is_mercenary_recruited</a></li><li data-type='method' style='display: none;'><a href="settlement.html#is_metropolis">is_metropolis</a></li><li data-type='method' style='display: none;'><a href="settlement.html#is_player">is_player</a></li><li data-type='method' style='display: none;'><a href="settlement.html#is_urban">is_urban</a></li><li data-type='method' style='display: none;'><a href="settlement.html#is_village">is_village</a></li><li data-type='method' style='display: none;'><a href="settlement.html#level">level</a></li><li data-type='method' style='display: none;'><a href="settlement.html#level_up">level_up</a></li><li data-type='method' style='display: none;'><a href="settlement.html#load_army">load_army</a></li><li data-type='method' style='display: none;'><a href="settlement.html#location">location</a></li><li data-type='method' style='display: none;'><a href="settlement.html#lower_espionage">lower_espionage</a></li><li data-type='method' style='display: none;'><a href="settlement.html#lower_faith">lower_faith</a></li><li data-type='method' style='display: none;'><a href="settlement.html#lower_fame">lower_fame</a></li><li data-type='method' style='display: none;'><a href="settlement.html#lower_influence">lower_influence</a></li><li data-type='method' style='display: none;'><a href="settlement.html#lower_prestige">lower_prestige</a></li><li data-type='method' style='display: none;'><a href="settlement.html#lower_research">lower_research</a></li><li data-type='method' style='display: none;'><a href="settlement.html#mercenary">mercenary</a></li><li data-type='method' style='display: none;'><a href="settlement.html#merge_army">merge_army</a></li><li data-type='method' style='display: none;'><a href="settlement.html#merge_navy">merge_navy</a></li><li data-type='method' style='display: none;'><a href="settlement.html#merge_resources">merge_resources</a></li><li data-type='method' style='display: none;'><a href="settlement.html#name">name</a></li><li data-type='method' style='display: none;'><a href="settlement.html#nationality">nationality</a></li><li data-type='method' style='display: none;'><a href="settlement.html#navy">navy</a></li><li data-type='method' style='display: none;'><a href="settlement.html#nice_name">nice_name</a></li><li data-type='method' style='display: none;'><a href="settlement.html#num_ships">num_ships</a></li><li data-type='method' style='display: none;'><a href="settlement.html#num_soldiers">num_soldiers</a></li><li data-type='method' style='display: none;'><a href="settlement.html#personality">personality</a></li><li data-type='method' style='display: none;'><a href="settlement.html#population">population</a></li><li data-type='method' style='display: none;'><a href="settlement.html#prestige">prestige</a></li><li data-type='method' style='display: none;'><a href="settlement.html#properties">properties</a></li><li data-type='method' style='display: none;'><a href="settlement.html#raise_espionage">raise_espionage</a></li><li data-type='method' style='display: none;'><a href="settlement.html#raise_faith">raise_faith</a></li><li data-type='method' style='display: none;'><a href="settlement.html#raise_fame">raise_fame</a></li><li data-type='method' style='display: none;'><a href="settlement.html#raise_influence">raise_influence</a></li><li data-type='method' style='display: none;'><a href="settlement.html#raise_prestige">raise_prestige</a></li><li data-type='method' style='display: none;'><a href="settlement.html#raise_research">raise_research</a></li><li data-type='method' style='display: none;'><a href="settlement.html#recruit_mercenary_army">recruit_mercenary_army</a></li><li data-type='method' style='display: none;'><a href="settlement.html#recruit_ship">recruit_ship</a></li><li data-type='method' style='display: none;'><a href="settlement.html#recruit_soldier">recruit_soldier</a></li><li data-type='method' style='display: none;'><a href="settlement.html#refresh_heroes">refresh_heroes</a></li><li data-type='method' style='display: none;'><a href="settlement.html#release_mercenaries">release_mercenaries</a></li><li data-type='method' style='display: none;'><a href="settlement.html#release_mercenary">release_mercenary</a></li><li data-type='method' style='display: none;'><a href="settlement.html#religion">religion</a></li><li data-type='method' style='display: none;'><a href="settlement.html#remove_from_exports">remove_from_exports</a></li><li data-type='method' style='display: none;'><a href="settlement.html#remove_from_imports">remove_from_imports</a></li><li data-type='method' style='display: none;'><a href="settlement.html#remove_resource">remove_resource</a></li><li data-type='method' style='display: none;'><a href="settlement.html#remove_resources">remove_resources</a></li><li data-type='method' style='display: none;'><a href="settlement.html#rename">rename</a></li><li data-type='method' style='display: none;'><a href="settlement.html#research">research</a></li><li data-type='method' style='display: none;'><a href="settlement.html#reset_espionage">reset_espionage</a></li><li data-type='method' style='display: none;'><a href="settlement.html#reset_faith">reset_faith</a></li><li data-type='method' style='display: none;'><a href="settlement.html#reset_fame">reset_fame</a></li><li data-type='method' style='display: none;'><a href="settlement.html#reset_influence">reset_influence</a></li><li data-type='method' style='display: none;'><a href="settlement.html#reset_prestige">reset_prestige</a></li><li data-type='method' style='display: none;'><a href="settlement.html#reset_research">reset_research</a></li><li data-type='method' style='display: none;'><a href="settlement.html#reset_trades">reset_trades</a></li><li data-type='method' style='display: none;'><a href="settlement.html#ruler">ruler</a></li><li data-type='method' style='display: none;'><a href="settlement.html#sell_to_settlement">sell_to_settlement</a></li><li data-type='method' style='display: none;'><a href="settlement.html#set_army">set_army</a></li><li data-type='method' style='display: none;'><a href="settlement.html#set_influence">set_influence</a></li><li data-type='method' style='display: none;'><a href="settlement.html#set_navy">set_navy</a></li><li data-type='method' style='display: none;'><a href="settlement.html#set_resources">set_resources</a></li><li data-type='method' style='display: none;'><a href="settlement.html#set_trades">set_trades</a></li><li data-type='method' style='display: none;'><a href="settlement.html#setup_initial_buildings">setup_initial_buildings</a></li><li data-type='method' style='display: none;'><a href="settlement.html#split_army">split_army</a></li><li data-type='method' style='display: none;'><a href="settlement.html#split_navy">split_navy</a></li><li data-type='method' style='display: none;'><a href="settlement.html#status">status</a></li><li data-type='method' style='display: none;'><a href="settlement.html#storage">storage</a></li><li data-type='method' style='display: none;'><a href="settlement.html#to_camp">to_camp</a></li><li data-type='method' style='display: none;'><a href="settlement.html#to_city">to_city</a></li><li data-type='method' style='display: none;'><a href="settlement.html#to_metropolis">to_metropolis</a></li><li data-type='method' style='display: none;'><a href="settlement.html#to_village">to_village</a></li><li data-type='method' style='display: none;'><a href="settlement.html#waterside">waterside</a></li></ul></li><li><a href="ui.html">ui</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui.html#.building_panel_template">building_panel_template</a></li><li data-type='method' style='display: none;'><a href="ui.html#.campaign_panel_template">campaign_panel_template</a></li><li data-type='method' style='display: none;'><a href="ui.html#.generic_panel_template">generic_panel_template</a></li><li data-type='method' style='display: none;'><a href="ui.html#.window_about_section">window_about_section</a></li><li data-type='method' style='display: none;'><a href="ui.html#army_img">army_img</a></li><li data-type='method' style='display: none;'><a href="ui.html#army_list">army_list</a></li><li data-type='method' style='display: none;'><a href="ui.html#build_main">build_main</a></li><li data-type='method' style='display: none;'><a href="ui.html#building_element">building_element</a></li><li data-type='method' style='display: none;'><a href="ui.html#building_panel">building_panel</a></li><li data-type='method' style='display: none;'><a href="ui.html#chance_panel">chance_panel</a></li><li data-type='method' style='display: none;'><a href="ui.html#check_storage">check_storage</a></li><li data-type='method' style='display: none;'><a href="ui.html#citymap_scrollto_building">citymap_scrollto_building</a></li><li data-type='method' style='display: none;'><a href="ui.html#close_panel">close_panel</a></li><li data-type='method' style='display: none;'><a href="ui.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui.html#cost_panel">cost_panel</a></li><li data-type='method' style='display: none;'><a href="ui.html#error">error</a></li><li data-type='method' style='display: none;'><a href="ui.html#get_cell_middle">get_cell_middle</a></li><li data-type='method' style='display: none;'><a href="ui.html#get_cell_middle_coords">get_cell_middle_coords</a></li><li data-type='method' style='display: none;'><a href="ui.html#get_panel">get_panel</a></li><li data-type='method' style='display: none;'><a href="ui.html#get_panels">get_panels</a></li><li data-type='method' style='display: none;'><a href="ui.html#get_random_color">get_random_color</a></li><li data-type='method' style='display: none;'><a href="ui.html#hide_loader">hide_loader</a></li><li data-type='method' style='display: none;'><a href="ui.html#item_tooltip">item_tooltip</a></li><li data-type='method' style='display: none;'><a href="ui.html#level_panel">level_panel</a></li><li data-type='method' style='display: none;'><a href="ui.html#log">log</a></li><li data-type='method' style='display: none;'><a href="ui.html#materials_panel">materials_panel</a></li><li data-type='method' style='display: none;'><a href="ui.html#navy_img">navy_img</a></li><li data-type='method' style='display: none;'><a href="ui.html#navy_list">navy_list</a></li><li data-type='method' style='display: none;'><a href="ui.html#normal_panel">normal_panel</a></li><li data-type='method' style='display: none;'><a href="ui.html#notify">notify</a></li><li data-type='method' style='display: none;'><a href="ui.html#open_modal">open_modal</a></li><li data-type='method' style='display: none;'><a href="ui.html#open_panel">open_panel</a></li><li data-type='method' style='display: none;'><a href="ui.html#open_window">open_window</a></li><li data-type='method' style='display: none;'><a href="ui.html#panel_btn">panel_btn</a></li><li data-type='method' style='display: none;'><a href="ui.html#panel_exists">panel_exists</a></li><li data-type='method' style='display: none;'><a href="ui.html#production_panel">production_panel</a></li><li data-type='method' style='display: none;'><a href="ui.html#progress">progress</a></li><li data-type='method' style='display: none;'><a href="ui.html#refresh">refresh</a></li><li data-type='method' style='display: none;'><a href="ui.html#refresh_panels">refresh_panels</a></li><li data-type='method' style='display: none;'><a href="ui.html#refresh_toolbar">refresh_toolbar</a></li><li data-type='method' style='display: none;'><a href="ui.html#refresh_ui">refresh_ui</a></li><li data-type='method' style='display: none;'><a href="ui.html#requires_panel">requires_panel</a></li><li data-type='method' style='display: none;'><a href="ui.html#resize">resize</a></li><li data-type='method' style='display: none;'><a href="ui.html#resource_small_img">resource_small_img</a></li><li data-type='method' style='display: none;'><a href="ui.html#resource_storage_el">resource_storage_el</a></li><li data-type='method' style='display: none;'><a href="ui.html#resource_storage_small_el">resource_storage_small_el</a></li><li data-type='method' style='display: none;'><a href="ui.html#show_loader">show_loader</a></li><li data-type='method' style='display: none;'><a href="ui.html#storage_panel">storage_panel</a></li><li data-type='method' style='display: none;'><a href="ui.html#tabs">tabs</a></li><li data-type='method' style='display: none;'><a href="ui.html#tax_panel">tax_panel</a></li><li data-type='method' style='display: none;'><a href="ui.html#trades_list">trades_list</a></li><li data-type='method' style='display: none;'><a href="ui.html#window_exists">window_exists</a></li><li data-type='method' style='display: none;'><a href="ui.html#worldmap_scrollto">worldmap_scrollto</a></li></ul></li><li><a href="ui_modal.html">ui_modal</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_modal.html#alert">alert</a></li><li data-type='method' style='display: none;'><a href="ui_modal.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_modal.html#on_click">on_click</a></li></ul></li><li><a href="ui_panel.html">ui_panel</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_academy.html">ui_panel_academy</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_academy.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_academy.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_army.html">ui_panel_army</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_army.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_army.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_barracks.html">ui_panel_barracks</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_barracks.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_barracks.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_building.html">ui_panel_building</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_building.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_building.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_buildings.html">ui_panel_buildings</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_buildings.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_buildings.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_campaign.html">ui_panel_campaign</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_campaign.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_campaign.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_church.html">ui_panel_church</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_church.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_church.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_council.html">ui_panel_council</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_council.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_council.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_debug.html">ui_panel_debug</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_debug.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_debug.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_embassy.html">ui_panel_embassy</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_embassy.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_embassy.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_help.html">ui_panel_help</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_help.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_help.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_new_army.html">ui_panel_new_army</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_new_army.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_new_army.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_new_caravan.html">ui_panel_new_caravan</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_new_caravan.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_new_caravan.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_new_scout.html">ui_panel_new_scout</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_new_scout.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_new_scout.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_new_spy.html">ui_panel_new_spy</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_new_spy.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_new_spy.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_place.html">ui_panel_place</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_place.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_place.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_ranks.html">ui_panel_ranks</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_ranks.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_ranks.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_settlement.html">ui_panel_settlement</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_settlement.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_settlement.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_shipyard.html">ui_panel_shipyard</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_shipyard.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_shipyard.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_storage.html">ui_panel_storage</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_storage.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_storage.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_tavern.html">ui_panel_tavern</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_tavern.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_tavern.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_trades.html">ui_panel_trades</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_trades.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_trades.html#destroy">destroy</a></li></ul></li><li><a href="ui_panel_world.html">ui_panel_world</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_panel_world.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_panel_world.html#destroy">destroy</a></li></ul></li><li><a href="ui_window.html">ui_window</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_window.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_window.html#destroy">destroy</a></li></ul></li><li><a href="ui_window_battle.html">ui_window_battle</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_window_battle.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_window_battle.html#destroy">destroy</a></li></ul></li><li><a href="ui_window_error.html">ui_window_error</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_window_error.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_window_error.html#destroy">destroy</a></li></ul></li><li><a href="ui_window_options.html">ui_window_options</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_window_options.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_window_options.html#destroy">destroy</a></li></ul></li><li><a href="ui_window_signin.html">ui_window_signin</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_window_signin.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_window_signin.html#destroy">destroy</a></li></ul></li><li><a href="ui_window_signup.html">ui_window_signup</a><ul class='methods'><li data-type='method' style='display: none;'><a href="ui_window_signup.html#core">core</a></li><li data-type='method' style='display: none;'><a href="ui_window_signup.html#destroy">destroy</a></li></ul></li><li><a href="world.html">world</a><ul class='methods'><li data-type='method' style='display: none;'><a href="world.html#add_place">add_place</a></li><li data-type='method' style='display: none;'><a href="world.html#add_settlement">add_settlement</a></li><li data-type='method' style='display: none;'><a href="world.html#calc_neighbours">calc_neighbours</a></li><li data-type='method' style='display: none;'><a href="world.html#core">core</a></li><li data-type='method' style='display: none;'><a href="world.html#draw">draw</a></li><li data-type='method' style='display: none;'><a href="world.html#get_climate_from_terrain">get_climate_from_terrain</a></li><li data-type='method' style='display: none;'><a href="world.html#get_distance">get_distance</a></li><li data-type='method' style='display: none;'><a href="world.html#get_distance_in_days">get_distance_in_days</a></li><li data-type='method' style='display: none;'><a href="world.html#get_hex">get_hex</a></li><li data-type='method' style='display: none;'><a href="world.html#get_hex_elevation">get_hex_elevation</a></li><li data-type='method' style='display: none;'><a href="world.html#get_hex_moisture">get_hex_moisture</a></li><li data-type='method' style='display: none;'><a href="world.html#get_hex_terrain">get_hex_terrain</a></li><li data-type='method' style='display: none;'><a href="world.html#get_neighbours">get_neighbours</a></li><li data-type='method' style='display: none;'><a href="world.html#get_random_location">get_random_location</a></li><li data-type='method' style='display: none;'><a href="world.html#get_terrain_from_climate">get_terrain_from_climate</a></li><li data-type='method' style='display: none;'><a href="world.html#hex_is_locked">hex_is_locked</a></li><li data-type='method' style='display: none;'><a href="world.html#hex_is_water">hex_is_water</a></li><li data-type='method' style='display: none;'><a href="world.html#hex_locked_by">hex_locked_by</a></li><li data-type='method' style='display: none;'><a href="world.html#lock_hex">lock_hex</a></li><li data-type='method' style='display: none;'><a href="world.html#properties">properties</a></li><li data-type='method' style='display: none;'><a href="world.html#remove_city">remove_city</a></li><li data-type='method' style='display: none;'><a href="world.html#seed">seed</a></li><li data-type='method' style='display: none;'><a href="world.html#set_hex">set_hex</a></li><li data-type='method' style='display: none;'><a href="world.html#unlock_hex">unlock_hex</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#capitalize">capitalize</a></li><li><a href="global.html#findIndexByHandle">findIndexByHandle</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">objects/ui/ui.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Main Game UI object.
 * 
 * @param {Object} core
 * @license GPL-3.0-or-later
 * @class ui
 * @returns {ui}
 */
class ui {

	/**
	 * Object constructor.
	 * 
	 * @private
	 * @constructor
	 * @returns {ui}
	 * @param {Object} core
	 */
	constructor (core) {
		this._core = core;
		this.panels = [];
		this.panel_class_names = {
			'academy': ui_panel_academy,
			'barracks': ui_panel_barracks,
			'church': ui_panel_church,
			'embassy': ui_panel_embassy,
			'shipyard': ui_panel_shipyard,
			'tavern': ui_panel_tavern,
			'army': ui_panel_army,
			'building': ui_panel_building,
			'buildings': ui_panel_buildings,
			'campaign': ui_panel_campaign,
			'council': ui_panel_council,
			'debug': ui_panel_debug,
			'help': ui_panel_help,
			'new_army': ui_panel_new_army,
			'new_caravan': ui_panel_new_caravan,
			'new_scout': ui_panel_new_scout,
			'new_spy': ui_panel_new_spy,
			'place': ui_panel_place,
			'ranks': ui_panel_ranks,
			'settlement': ui_panel_settlement,
			'storage': ui_panel_storage,
			'trades': ui_panel_trades,
			'world': ui_panel_world
		};
		this.window_class_names = {
			'options': ui_window_options,
			'battle': ui_window_battle,
			'signin': ui_window_signin,
			'signup': ui_window_signup,
			'error': ui_window_error
		};
		return this;
	}

	/**
	 * Show the application loading indicator.
	 *
	 * @public
	 * @returns {ui}
	 */
	show_loader () {
		$('.loading').show().tipsy({
			gravity: 'e'
		});
	}

	/**
	 * Hide the application loading indicator.
	 *
	 * @public
	 * @returns {ui}
	 */
	hide_loader () {
		$('.loading').hide();
	}

	/**
	 * Build the main DOM UI of the game.
	 *
	 * @public
	 * @returns {ui}
	 */
	build_main () {
		let _t = '';
		let clicked = false;
		let clickY, clickX;
		let out = '&lt;section class="ui">' +
					'&lt;header>' +
						'&lt;div class="resource-panel">&lt;/div>' +
						'&lt;div class="top-panel">' +
							'&lt;span title="City level" class="tips citylevel">&lt;/span>&amp;nbsp;&amp;nbsp;&amp;nbsp;' +
							'&lt;span title="City Council" class="tips cityavatar">&lt;/span>&amp;nbsp;&amp;nbsp;&amp;nbsp;' +
							'&lt;span class="cityname">&lt;/span>' +
						'&lt;/div>' +
					'&lt;/header>' +
					'&lt;aside>&lt;/aside>' +
					'&lt;div class="viewport">' +
						'&lt;section class="game">&lt;/section>' +
					'&lt;/div>' +
					'&lt;footer>' +
						'&lt;a href="#" data-action="panel" data-panel="buildings" class="tips" title="Buildings">&lt;/a>' +
						'&lt;a href="#" data-action="panel" data-panel="storage" class="tips" title="Storage Space">&lt;/a>' +
						'&lt;a href="#" data-action="panel" data-panel="trades" class="tips" title="Trades">&lt;/a>' +
						'&lt;a href="#" data-action="panel" data-panel="council" class="tips" title="City Council">&lt;/a>' +
						'&lt;a href="#" data-action="panel" data-panel="ranks" class="tips" title="Ranks">&lt;/a>' +
						'&lt;a href="#" data-action="panel" data-panel="world" class="tips" title="World Map">&lt;/a>' +
						'&lt;a href="#" data-action="panel" data-panel="debug" class="tips" title="Debug">&lt;/a>' +
						'&lt;a href="#" data-action="panel" data-panel="help" class="tips" title="Help">&lt;/a>' +
					'&lt;/footer>' +
				'&lt;/section>' +
				'&lt;audio id="music" loop>' +
					'&lt;source src="music/track1.mp3" type="audio/mpeg">' +
				'&lt;/audio>' +
				'&lt;div title="Game is doing stuff in the background." class="loading">&lt;/div>';
		$('body').empty().append(out);
		for (let item in game.RESOURCES) {
			if (game.RESOURCES[item].toolbar === true) {
				_t += '&lt;div class="resource ' + item + '">' +
					'&lt;span class="amount">0&lt;/span>' +
					'&lt;img title="' + game.RESOURCES[item].name + '" class="tips small" src="' + game.ASSETS_URL + 'images/assets/resources/' + item + '.png" />' +
				'&lt;/div>';
			}
		}
		$('.resource-panel').append(_t);
		let update_scroll_pos = function (event) {
			$('.viewport').scrollTop($('.viewport').scrollTop() + (clickY - event.pageY));
			$('.viewport').scrollLeft($('.viewport').scrollLeft() + (clickX - event.pageX));
			clickY = event.pageY;
			clickX = event.pageX;
		};
		$('.game').on({
			mousemove (event) {
				clicked &amp;&amp; update_scroll_pos(event);
			},
			mousedown (event) {
				clicked = true;
				clickY = event.pageY;
				clickX = event.pageX;
				$('html').css('cursor', 'grab');
			},
			mouseup () {
				clicked = false;
				$('html').css('cursor', 'auto');
			}
		});
		return this;
	}

	/**
	 * Create an item tooltip.
	 *
	 * @public
	 * @param {Object} item
	 * @returns {String}
	 */
	item_tooltip (item) {
		let out = '&lt;h4 style="color: ' + game.ITEM_QUALITY_COLORS[item.quality] + '">' + item.name + '&lt;/h4>';
		if (item.flavour) {
			out += '&lt;span class="flavour">"' + item.flavour + '"&lt;/span>' + ' &lt;br />';
		}
		out += 'Slot: ' + game.ITEM_SLOTS_LIST[item.slot] + ' &lt;br />';
		if (item.type === game.ITEM_TYPE_WEAPON) {
			out += 'Damage: &lt;span class="red">' + item.stats.damageMin + '-' + item.stats.damageMax + '&lt;/span>&lt;br />Speed: ' + item.stats.speed + '&lt;br />';
		} else {
			out += 'Armor: ' + item.stats.armor + '&lt;br />';
		}
		if (item.stats.strength) {
			out += 'Strength: &lt;span class="green">+' + item.stats.strength + '&lt;/span>&lt;br />';
		}
		if (item.stats.stamina) {
			out += 'Stamina: &lt;span class="green">+' + item.stats.stamina + '&lt;/span>&lt;br />';
		}
		if (item.stats.agility) {
			out += 'Agility: &lt;span class="green">+' + item.stats.agility + '&lt;/span>&lt;br />';
		}
		if (item.stats.intellect) {
			out += 'Intellect: &lt;span class="green">+' + item.stats.intellect + '&lt;/span>&lt;br />';
		}
		if (item.stats.spirit) {
			out += 'Spirit: &lt;span class="green">+' + item.stats.spirit + '&lt;/span>&lt;br />';
		}
		out += 'Type: &lt;span style="color: ' + game.ITEM_QUALITY_COLORS[item.quality] + '">' + game.ITEM_QUALITY_LIST[item.quality] + '&lt;/span>';
		return out;
	}

	/**
	 * Build the About section of the UI.
	 *
	 * @public
	 * @returns {String}
	 */
	static window_about_section () {
		let out = '&lt;a href="#" class="do-about button">About&lt;/a>' +
			'&lt;div class="about-game">' +
				'&lt;a class="github" target="_blank" href="https://github.com/sizeofcat/civitas">&lt;img class="tips" title="Visit the project page on GitHub" src="' + game.ASSETS_URL + '/images/ui/github.png" />&lt;/a>' +
				'&lt;p>Civitas is written by &lt;a target="_blank" href="https://sizeof.cat">sizeof(cat)&lt;/a>.&lt;/p>' +
				'&lt;p>Big thanks to:&lt;/p>' +
				'&lt;ul>' +
					'&lt;li>&lt;a target="_blank" href="https://soundcloud.com/shantifax">Shantifax&lt;/a> for the music (Glandula Pinealis).&lt;/li>' +
					'&lt;li>&lt;a target="_blank" href="http://bluebyte.com">Blue Byte&lt;/a> for Anno 1404.&lt;/li>' +
				'&lt;/ul>' +
			'&lt;/div>';
		return out;
	}

	/**
	 * Generate a generic panel template.
	 *
	 * @public
	 * @param {String} title
	 * @returns {String}
	 */
	static generic_panel_template (title) {
		if (typeof title === 'undefined') {
			title = '';
		}
		let out = '&lt;div id="panel-{ID}" class="panel">' +
					'&lt;header>' + title +
						'&lt;a class="tips close" title="Close">&lt;/a>' +
					'&lt;/header>' +
					'&lt;section>&lt;/section>' +
				'&lt;/div>';
		return out;
	}

	/**
	 * Generate a campaign panel template.
	 *
	 * @public
	 * @param {String} title
	 * @returns {String}
	 */
	static campaign_panel_template (title) {
		if (typeof title === 'undefined') {
			title = '';
		}
		let out = '&lt;div id="panel-{ID}" class="panel">' +
				'&lt;header>' + title +
					'&lt;a class="tips close" title="Close">&lt;/a>' +
				'&lt;/header>' +
				'&lt;section>&lt;/section>' +
				'&lt;div class="toolbar">' +
					'&lt;a class="btn dispatch" href="#">Dispatch&lt;/a>' +
				'&lt;/div>' +
			'&lt;/div>';
		return out;
	}

	/**
	 * Generate a building panel template.
	 *
	 * @public
	 * @param {String} title
	 * @returns {String}
	 */
	static building_panel_template (title) {
		if (typeof title === 'undefined') {
			title = '';
		}
		let out = '&lt;div id="panel-{ID}" class="panel">' +
					'&lt;header>' + title +
						'&lt;a class="tips close" title="Close">&lt;/a>' +
					'&lt;/header>' +
					'&lt;section>&lt;/section>' +
					'&lt;footer>' +
						'&lt;a class="tips demolish" title="Demolish this building" href="#">&lt;/a>' +
						'&lt;a class="tips pause start" href="#">&lt;/a>' +
						'&lt;a class="tips upgrade" title="Upgrade building" href="#">&lt;/a>' +
						'&lt;a class="tips downgrade" title="Downgrade building" href="#">&lt;/a>' +
					'&lt;/footer>' +
				'&lt;/div>';
		return out;
	}

	/**
	 * 
	 *
	 * @public
	 * @param {Object} params
	 * @param {Number} level
	 * @returns {String}
	 */
	building_panel (params, level) {
		if (typeof params.levels === 'undefined') {
			params.levels = 1;
		}
		let building_image = params.handle;
		if (params.handle.slice(0, 5) === 'house') {
			building_image = params.handle.slice(0, 5);
		}
		let image = (typeof params.visible_upgrades === 'undefined' || params.visible_upgrades === false) ? building_image: building_image + params.level;
		let out = '&lt;div class="column">' +
					'&lt;img class="building" src="' + game.ASSETS_URL + 'images/assets/buildings/' + image + '.png" />' +
				'&lt;/div>' +
				'&lt;div class="column">' +
					'&lt;p>' + params.description + '&lt;/p>' +
					'&lt;dl>' +
						this.level_panel(params.level, level, params.levels) +
						this.cost_panel(params.cost, level, params.levels) +
						this.materials_panel(params.materials) +
						this.production_panel(params.production, level) +
						this.requires_panel(params.requires) +
						this.chance_panel(params.chance, level) +
						this.tax_panel(params.tax, level) +
						this.storage_panel(params.storage, level) +
					'&lt;/dl>' +
				'&lt;/div>'; 
		return out;
	}

	/**
	 * 
	 *
	 * @public
	 * @param {String} section
	 * @param {String} contents
	 * @returns {String}
	 */
	normal_panel (section, contents) {
		let out = '&lt;fieldset>' +
					'&lt;legend>' + section + '&lt;/legend>' +
					contents +
				'&lt;/fieldset>';
		return out;
	}

	/**
	 * 
	 *
	 * @public
	 * @param {Number} level
	 * @param {Number} new_level
	 * @param {Number} max_level
	 * @returns {String}
	 */
	level_panel (level, new_level, max_level) {
		let out = '&lt;dt>Level&lt;/dt>' +
				'&lt;dd>' +
					'&lt;span title="Current building level" class="tips">' + new_level + '&lt;/span> / &lt;span title="Maximum building level achievable through upgrades" class="tips">' + max_level + '&lt;/span>' +
				'&lt;/dd>';
		return out;
	}

	/**
	 * 
	 *
	 * @public
	 * @param {Object} conts
	 * @param {Number} level
	 * @param {Number} levels
	 * @returns {String}
	 */
	cost_panel (costs, level, levels) {
		let out = '';
		if (typeof costs !== 'undefined') {
			out += '&lt;dt>Cost&lt;/dt>';
			for (let item in costs) {
				out += '&lt;dd>' + game.nice_numbers(costs[item]) + this.resource_small_img(item) + (typeof levels !== 'undefined' &amp;&amp; level &lt; levels ? ' / ' + game.nice_numbers(costs[item] * (level + 1)) + this.resource_small_img(item) : '') + '&lt;/dd>';
			}
		}
		return out;
	}

	/**
	 * 
	 *
	 * @public
	 * @param {Number} value
	 * @param {String} progress_type
	 * @param {Boolean} show_value
	 * @returns {String}
	 */
	progress (value, progress_type, show_value) {
		if (typeof progress_type === 'undefined') {
			progress_type = 'small';
		}
		let _e = '';
		if (value &lt; 10) {
			_e = ' ubad';
		} else if (value >= 10 &amp;&amp; value &lt; 30) {
			_e = ' vbad';
		} else if (value >= 30 &amp;&amp; value &lt; 40) {
			_e = ' bad';
		} else if (value >= 40 &amp;&amp; value &lt; 60) {
			_e = ' good';
		} else if (value >= 60 &amp;&amp; value &lt; 90) {
			_e = ' vgood';
		} else if (value >= 90) {
			_e = ' ugood';
		}
		return '&lt;div class="progress ' + progress_type + '">' +
				'&lt;div class="bar' + _e + '" style="width:' + value + '%">' +
					'&lt;p>' + (typeof show_value !== 'undefined' ? show_value : value) + '&lt;/p>' +
				'&lt;/div>' +
			'&lt;/div>';
	}

	/**
	 * 
	 *
	 * @public
	 * @param {String} name
	 * @returns {String}
	 */
	navy_img (name) {
		return '&lt;img class="tips small" title="' + game.SHIPS[name].name + '" src="' + game.ASSETS_URL + 'images/assets/army/' + name.toLowerCase().replace(/ /g,"_") + '.png" />';
	}

	/**
	 * 
	 *
	 * @public
	 * @param {String} name
	 * @returns {String}
	 */
	army_img (name) {
		return '&lt;img class="tips small" title="' + game.SOLDIERS[name].name + '" src="' + game.ASSETS_URL + 'images/assets/army/' + name.toLowerCase().replace(/ /g,"_") + '.png" />';
	}

	/**
	 * 
	 *
	 * @public
	 * @param {Object} army
	 * @param {Boolean} no_margin
	 * @returns {String}
	 */
	army_list (army, no_margin) {
		let out2 = '&lt;p>There are no soldiers in this army.&lt;/p>';
		let out = '&lt;dl' + ((typeof no_margin !== 'undefined' &amp;&amp; no_margin === true) ? ' class="nomg"' : '') + '>';
		let total = 0;
		for (let soldier in army) {
			if (army[soldier] > 0) {
				out += '&lt;dt>' + army[soldier] + '&lt;/dt>' + '&lt;dd>' + this.army_img(soldier) + '&lt;/dd>';
				total += army[soldier];
			}
		}
		out += '&lt;dt>' + total + '&lt;/dt>' +
				'&lt;dd>Total&lt;/dd>' +
			'&lt;/dl>';
		if (total > 0) {
			return out;
		} else {
			return out2;
		}
	}

	/**
	 * Check if a window exists and is opened.
	 * 
	 * @param {String} id
	 * @returns {Boolean}
	 */
	window_exists (id) {
		if ($(id).length === 0) {
			return false;
		}
		return true;
	}

	/**
	 * Check if a panel exists and is opened.
	 * 
	 * @param {String} id
	 * @returns {Boolean}
	 */
	panel_exists (id) {
		if ($(id).length === 0) {
			return false;
		}
		return true;
	}

	/**
	 * 
	 *
	 * @public
	 * @param {String} text
	 * @param {String} title
	 * @param {String} handle
	 * @param {String} class_name
	 * @param {Boolean} disabled
	 * @returns {String}
	 */
	panel_btn (text, title, handle, class_name, disabled) {
		return '&lt;a title="' + title + '" data-handle="' + handle + '" class="tips ' + class_name + (disabled === true ? ' disabled' : '') + '" href="#">' + text + '&lt;/a>&lt;/td>';
	}

	/**
	 * 
	 *
	 * @public
	 * @param {Object} trades
	 * @param {String} mode
	 * @returns {String}
	 */
	trades_list (trades, mode) {
		mode = (typeof mode === 'undefined' || mode === 'imports') ? 'imports' : 'exports';
		let out = '';
		if (trades !== null) {
			let trade = trades[mode];
			for (let item in trade) {
				if (trade[item] > 0) {
					out += this.resource_storage_small_el(item, trade[item]);
				}
			}
		}
		return out;
	}

	/**
	 * 
	 *
	 * @public
	 * @param {Object} army
	 * @param {Boolean} no_margin
	 * @returns {String}
	 */
	navy_list (army, no_margin) {
		let out2 = '&lt;p>There are no ships in this navy.&lt;/p>';
		let out = '&lt;dl' + ((typeof no_margin !== 'undefined' &amp;&amp; no_margin === true) ? ' class="nomg"' : '') + '>';
		let total = 0;
		for (let ship in army) {
			if (army[ship] > 0) {
				out += '&lt;dt>' + army[ship] + '&lt;/dt>' + '&lt;dd>' + this.navy_img(ship) + '&lt;/dd>';
				total += army[ship];
			}
		}
		out += '&lt;dt>' + total + '&lt;/dt>' +
				'&lt;dd>Total&lt;/dd>' +
			'&lt;/dl>';
		if (total > 0) {
			return out;
		} else {
			return out2;
		}
	}

	/**
	 * 
	 *
	 * @public
	 * @param {Object} params
	 * @returns {String}
	 */
	building_element (params) {
		let building_image = params.type;
		if (params.type.slice(0, 5) === 'house') {
			building_image = params.type.slice(0, 5);
		}
		let image = (typeof params.data.visible_upgrades === 'undefined' || params.data.visible_upgrades === false) ? building_image : building_image + params.data.level;
		return '&lt;div data-type="' + params.type + '" data-level="' + params.data.level + '" ' + 'style="background-image:url(' + game.ASSETS_URL + 'images/assets/buildings/' + image + '.png);left:' + params.data.position.x + 'px;top:' + params.data.position.y + 'px" title=\'' + params.data.name + '\' ' + 'id="building-' + params.data.handle + '"' + 'class="tips building' + (params.data.large === true ? ' large' : '') + '">&lt;/div>';
	}

	/**
	 * 
	 *
	 * @public
	 * @param {String} resource
	 * @param {Number} amount
	 * @returns {String}
	 */
	resource_storage_small_el (resource, amount) {
		return '&lt;div class="tips storage-item small" title="' + game.get_resource_name(resource) + '">&lt;img class="small" src="' + game.ASSETS_URL + 'images/assets/resources/' + resource + '.png" />&lt;span class="amount">' + amount + '&lt;/span>&lt;/div>';
	}

	/**
	 * 
	 *
	 * @public
	 * @param {String} resource
	 * @param {Number} amount
	 * @returns {String}
	 */
	resource_storage_el (resource, amount) {
		return '&lt;div class="storage-item" data-resource="' + resource + '">&lt;span class="title">' + game.get_resource_name(resource) + '&lt;/span>&lt;img src="' + game.ASSETS_URL + 'images/assets/resources/' + resource + '.png" />&lt;span class="amount">' + amount + '&lt;/span>&lt;/div>';
	}

	/**
	 * 
	 *
	 * @public
	 * @param {Array} data
	 * @returns {String}
	 */
	tabs (data) {
		let out = '&lt;div class="tabs">' +
				'&lt;ul>';
		for (let i = 0; i &lt; data.length; i++) {
			out += '&lt;li>&lt;a href="#tab-' + data[i].toLowerCase().replace(/ /g, "-") + '">' + data[i].capitalize() + '&lt;/a>&lt;/li>';
		}
		out += '&lt;/ul>';
		for (let i = 0; i &lt; data.length; i++) {
			out += '&lt;div id="tab-' + data[i].toLowerCase().replace(/ /g, "-") + '">&lt;/div>';
		}
		out += '&lt;/div>';
		return out;
	}

	/**
	 * 
	 *
	 * @public
	 * @param {Object| Array} materials
	 * @returns {String}
	 */
	materials_panel (materials) {
		let out = '';
		if (typeof materials !== 'undefined') {
			out += '&lt;dt>Uses&lt;/dt>';
			if (Array.isArray(materials)) {
				for (let i = 0; i &lt; materials.length; i++) {
					for (let y in materials[i]) {
						out += '&lt;dd>' + materials[i][y] + this.resource_small_img(y) + '&lt;/dd>';
					}
				}
			} else {
				for (let item in materials) {
					out += '&lt;dd>' + materials[item] + this.resource_small_img(item) + '&lt;/dd>';
				}
			}
		}
		return out;
	}

	/**
	 * 
	 *
	 * @public
	 * @param {Object} materials
	 * @param {Number} level
	 * @returns {String}
	 */
	chance_panel (materials, level) {
		let out = '';
		if (typeof materials !== 'undefined') {
			out += '&lt;dt>Extra materials&lt;/dt>';
			for (let item in materials) {
				out += '&lt;dd>' + (level * materials[item]).toFixed(4) * 100 + '%' + this.resource_small_img(item) + '&lt;/dd>';
			}
		}
		return out;
	}

	/**
	 * 
	 *
	 * @public
	 * @param {Object} materials
	 * @param {Number} level
	 * @returns {String}
	 */
	production_panel (materials, level) {
		let out = '';
		if (typeof materials !== 'undefined') {
			out += '&lt;dt>Produces&lt;/dt>';
			for (let item in materials) {
				out += '&lt;dd>' + (level * materials[item]) + this.resource_small_img(item) + '&lt;/dd>';
			}
		}
		return out;
	}

	/**
	 * 
	 *
	 * @public
	 * @param {Object} requires
	 * @returns {String}
	 */
	requires_panel (requires) {
		let out = '';
		if (typeof requires.buildings !== 'undefined' || typeof requires.settlement_level !== 'undefined') {
			out += '&lt;dt>Requires&lt;/dt>';
			out += '&lt;dd>';
			if (typeof requires.buildings !== 'undefined') {
				for (let item in requires.buildings) {
					let b = this.core().get_building_config_data(item);
					out += b.name + ' level ' + requires.buildings[item] + '&lt;br />';
				}
			}
			if (typeof requires.research !== 'undefined') {
				let r = game.TECHNOLOGIES[game.TECHNOLOGIES.findIndexByHandle(requires.research)];
				out += 'Research: ' + r.name + '&lt;br />';
			}
			if (typeof requires.settlement_level !== 'undefined') {
				out += 'Setlement: level ' + requires.settlement_level;
			}
			out += '&lt;/dd>';
		}
		return out;
	}

	/**
	 * 
	 *
	 * @public
	 * @param {Number} tax
	 * @param {Number} level
	 * @returns {String}
	 */
	tax_panel (tax, level) {
		let out = '';
		if (typeof tax !== 'undefined') {
			out += '&lt;dt>Tax&lt;/dt>';
			out += '&lt;dd>' + (level * tax) + this.resource_small_img('coins') + '&lt;/dd>';
		}
		return out;
	}

	/**
	 * 
	 *
	 * @public
	 * @param {Number} storage
	 * @param {Number} level
	 * @returns {String}
	 */
	storage_panel (storage, level) {
		let out = '';
		if (typeof storage !== 'undefined') {
			out += '&lt;dt>Storage&lt;/dt>' +
				'&lt;dd>' +
					(level * storage) + '&lt;img alt="Storage space" class="tips small" title="Storage Space" src="' + game.ASSETS_URL + 'images/assets/resources/storage.png" />' +
				'&lt;/dd>';
		}
		return out;
	}

	/**
	 * 
	 *
	 * @public
	 * @param {String} resource
	 * @returns {String}
	 */
	resource_small_img (resource) {
		return '&lt;img alt="' + game.get_resource_name(resource) + '" class="tips small" title="' + game.get_resource_name(resource) + '" src="' + game.ASSETS_URL + 'images/assets/resources/' + resource + '.png" />';
	}

	/**
	 * Return a pointer to the game core.
	 * 
	 * @public
	 * @returns {game}
	 */
	core () {
		return this._core;
	}

	/**
	 * Perform a normal notification in the game.
	 * 
	 * @public
	 * @param {String} message
	 * @param {String} title
	 * @param {Number} timeout
	 * @returns {ui}
	 */
	notify (message, title, timeout, mode) {
		this._notify({
			title: (typeof title !== 'undefined') ? title : 'City Council',
			content: message,
			timeout: typeof timeout !== 'undefined' ? timeout : 15000,
			mode: typeof mode !== 'undefined' ? mode : game.NOTIFY_NORMAL
		});
		this.log('game', message);
		return this;
	}

	/**
	 * Internal function for performing an UI notification.
	 * 
	 * @param {Object} settings
	 * @returns {ui}
	 * @private
	 */
	_notify (settings) {
		let container, notty, hide, image, right, left, inner, _container;
		let notty_type = 'normal';
		settings = $.extend({
			title: null,
			content: null,
			timeout: 15000,
			img: null,
			mode: game.NOTIFY_NORMAL
		}, settings);
		if (settings.mode === game.NOTIFY_ACHIEVEMENT) {
			_container = 'achievements-notifications';
		} else {
			_container = 'notifications';
		}
		container = $('.' + _container);
		if (!container.length) {
			container = $("&lt;div>", {
				'class': _container
			}).appendTo(document.body);
		}
		$('.achievements-notifications').css({
			left: ($(window).width() / 2) - (container.width() / 2)
		});
		notty = $('&lt;div>');
		notty.addClass('notty');
		hide = $("&lt;div>", {
			click () {
				$(this).parent().delay(300).queue(function () {
					$(this).clearQueue();
					$(this).remove();
				});
			},
			touchstart () {
				$(this).parent().delay(300).queue(function () {
					$(this).clearQueue();
					$(this).remove();
				});
			}
		});
		hide.addClass('hide');
		if (settings.mode === game.NOTIFY_ERROR) {
			notty_type = 'error';
		} else if (settings.mode === game.NOTIFY_RESEARCH) {
			notty_type = 'research';
		} else if (settings.mode === game.NOTIFY_EVENT) {
			notty_type = 'event';
		} else if (settings.mode === game.NOTIFY_ACHIEVEMENT) {
			notty_type = 'achievement';
		} else if (settings.mode === game.NOTIFY_RELIGION) {
			notty_type = 'religion';
		} else if (settings.mode === game.NOTIFY_WAR) {
			notty_type = 'war';
		}
		notty.addClass(notty_type);
		settings.img = game.ASSETS_URL + 'images/assets/ui/icon_' + notty_type + '.png';
		image = $('&lt;div>', {
			style: "background: url('" + settings.img + "')"
		});
		image.addClass('img');
		left = $("&lt;div class='left'>");
		right = $("&lt;div class='right'>");
		inner = $('&lt;div>', {
			html: '&lt;h2>' + settings.title + '&lt;/h2>' + settings.content
		});
		inner.addClass("inner");
		inner.appendTo(right);
		image.appendTo(left);
		left.appendTo(notty);
		right.appendTo(notty);
		hide.appendTo(notty);
		if (settings.mode !== game.NOTIFY_ACHIEVEMENT) {
			let timestamp = Number(new Date());
			let timeHTML = $('&lt;div>', {
				html: game.time_since(timestamp) + ' ago'
			});
			timeHTML.addClass('time-ago').attr('title', timestamp);
			timeHTML.appendTo(right);
			setInterval(function () {
				$('.time-ago').each(function () {
					let timing = $(this).attr('title');
					if (timing) {
						$(this).html(game.time_since(timing) + ' ago');
					}
				});
			}, 4000);
		}
		notty.hover(function () {
			hide.show();
		}, function () {
			hide.hide();
		});
		notty.prependTo(container);
		notty.show();
		if (settings.timeout) {
			setTimeout(function () {
				notty.delay(300).queue(function () {
					$(this).clearQueue();
					$(this).remove();
				});
			}, settings.timeout);
		}
		return this;
	}

	/**
	 * Perform an error notification in the game.
	 * 
	 * @public
	 * @param {String} message
	 * @param {String} title
	 * @param {Boolean} no_console
	 * @returns {ui}
	 */
	error (message, title, no_console) {
		this._notify({
			title: (typeof title !== 'undefined') ? title : 'City Council',
			mode: game.NOTIFY_ERROR,
			content: message
		});
		if (typeof no_console === 'undefined' || no_console === false) {
			this.log('game', message, true);
		}
		return this;
	}

	/**
	 * Resize the UI.
	 *
	 * @public
	 * @returns {ui}
	 */
	resize () {
		const window_width = parseInt($(window).width(), 10);
		const window_height = parseInt($(window).height(), 10);
		const header_height = parseInt($('.ui > header').height(), 10);
		const sidebar_width = parseInt($('.ui > aside').width(), 10);
		const footer_width = parseInt($('.ui > footer').width(), 10);
		$('.ui > footer').css({
			left: (window_width / 2) - (footer_width / 2)
		});
		$('.ui > .viewport').width(window_width - sidebar_width);
		$('.ui > .viewport').height(window_height - header_height);
		return this;
	}

	/**
	 * Log data to the console.
	 * 
	 * @public
	 * @param {String} namespace
	 * @param {String} message
	 * @param {Boolean} error
	 * @returns {ui}
	 */
	log (namespace, message, error) {
		if ($('#panel-debug .console p').length > game.MAX_CONSOLE_LINES) {
			$('#panel-debug .console').empty();
		}
		$('#panel-debug .console').prepend('&lt;p>&lt;span class="date">' + game.get_now() + '&lt;/span>&lt;span class="namespace game-' + namespace + '">' + namespace.toUpperCase() + '&lt;/span>' + (error === true ? '&lt;span class="error">ERROR&lt;/span>' : '') + '&lt;span' + (error === true ? ' class="error-message"' : ' class="log-message"') + '>' + message + '&lt;/span>&lt;/p>');
		return this;
	}

	/**
	 * Open a UI panel.
	 *
	 * @public
	 * @param {Object} name
	 * @param {Object} extra_data
	 * @param {Boolean} sidebar
	 * @returns {ui_panel}
	 */
	open_panel (name, extra_data, sidebar) {
		let _data = {};
		_data.core = this.core();
		if (typeof extra_data !== 'undefined') {
			_data.data = extra_data;
		}
		if (typeof sidebar !== 'undefined') {
			_data.data.sidebar = sidebar;
		}
		const panel = new this.panel_class_names[name](_data);
		this.panels.push(panel);
		return panel;
	}

	/**
	 * Open a UI window.
	 *
	 * @public
	 * @param {Object} name
	 * @param {Object} extra_data
	 * @returns {ui_window}
	 */
	open_window (name, extra_data) {
		let _data = {};
		_data.core = this.core();
		if (typeof extra_data !== 'undefined') {
			_data.data = extra_data;
		}
		
		return new this.window_class_names[name](_data);
	}

	/**
	 * Open a modal window (usually to ask for confirmations).
	 *
	 * @public
	 * @param {Function} callback
	 * @param {String} text
	 * @param {String} title
	 * @returns {ui}
	 */
	open_modal (callback, text, title) {
		const modal = new ui_modal({
			core: this.core()
		});
		modal.alert({
			title: typeof title !== 'undefined' ? title : 'City Council',
			text,
			on_click: callback
		});
		return this;
	}

	/**
	 * Refresh all the UI information after a property change.
	 * 
	 * @public
	 * @returns {ui}
	 */
	refresh_ui () {
		const settlement = this.core().get_settlement();
		if (typeof settlement !== 'undefined') {
			$('.citylevel').html(settlement.level());
			if (settlement.fame() >= this.core().level_to_fame(settlement.level())) {
				this.core().level_up();
			}
		}
		return this;
	}

	/**
	 * Calculate and return the total and free storage space in the main settlement.
	 * 
	 * @public
	 * @returns {Object}
	 */
	check_storage () {
		const storage = this.core().get_settlement().storage();
		if (storage.occupied >= storage.all) {
			this.error('You ran out of storage space and all goods produced will be lost. Upgrade your warehouse or marketplace.', 'No storage space');
		} else if ((storage.all - storage.occupied) &lt; 100) {
			this.error('You will soon run out of storage space and all goods produced will be lost. Upgrade your warehouse or marketplace.', 'Storage nearly full');
		}
		return storage;
	}

	/**
	 * Refresh the UI and panels.
	 *
	 * @public
	 * @returns {ui}
	 */
	refresh () {
		this.refresh_panels();
		this.refresh_toolbar();
		this.refresh_ui();
		$('.tipsy').remove();
		$('.tips').tipsy({
			gravity: $.fn.tipsy.autoNS,
			html: true
		});
		return this;
	}

	/**
	 * Get the panels open in the game.
	 * 
	 * @public
	 * @returns {Array}
	 */
	get_panels () {
		return this.panels;
	}

	/**
	 * Refresh the resources toolbar.
	 *
	 * @public
	 * @returns {ui}
	 */
	refresh_toolbar () {
		const settlement = this.core().get_settlement();
		if (typeof settlement !== 'undefined') {
			const resources = settlement.get_resources();
			for (let item in game.RESOURCES) {
				if (game.RESOURCES[item].toolbar === true) {
					if (typeof resources[item] !== 'undefined') {
						if (resources[item] === 0) {
							$('.resource-panel .resource.' + item).hide();
						} else {
							$('.resource-panel .resource.' + item).show();
						}
						$('.resource-panel .resource.' + item + ' span').html(resources[item]);
					}
				}
			}
		}
		return this;
	}

	/**
	 * Return the UI panel specified by its id.
	 *
	 * @public
	 * @param {String} id
	 * @returns {ui_panel|Boolean}
	 */
	get_panel (id) {
		const panels = this.get_panels();
		for (let i = 0; i &lt; panels.length; i++) {
			if (typeof panels[i] !== 'undefined') {
				if (panels[i].id === id) {
					return panels[i];
				}
			}
		}
		return false;
	}

	/**
	 * Close the UI panel specified by its id.
	 *
	 * @public
	 * @param {String} id
	 * @returns {Boolean}
	 */
	close_panel (id) {
		const panels = this.get_panels();
		for (let i = 0; i &lt; panels.length; i++) {
			if (typeof panels[i] !== 'undefined') {
				if (panels[i].id === id) {
					panels.splice(i, 1);
					return true;
				}
			}
		}
		return false;
	}

	/**
	 * Force refresh of the UI panels open.
	 *
	 * @public
	 * @returns {ui}
	 */
	refresh_panels () {
		const panels = this.get_panels();
		for (let i = 0; i &lt; panels.length; i++) {
			if (typeof panels[i] !== 'undefined') {
				panels[i].on_refresh();
			}
		}
		return this;
	}

	/**
	 * Get the middle of a hex cell.
	 *
	 * @public
	 * @param {Number} row
	 * @param {Number} column
	 * @returns {Number}
	 */
	get_cell_middle (row, column) {
		let height = Math.sqrt(3) / 2 * game.WORLD_HEX_SIZE;
		let center = {
			x: Math.round(game.WORLD_HEX_SIZE), 
			y: Math.round(height)
		};
		return center;
	}

	/**
	 * Scroll the world map to the specified location.
	 *
	 * @param {Object} location
	 * @public
	 * @returns {ui}
	 */
	worldmap_scrollto (location) {
		const coords = this.get_cell_middle_coords(location.y, location.x);
		$('.worldmap').scrollTop(coords.y - (700 / 2));
		$('.worldmap').scrollLeft(coords.x - (1164 / 2));
		return this;
	}

	/**
	 * Scroll the city map to the specified building location.
	 *
	 * @param {Object} building
	 * @public
	 * @returns {ui}
	 */
	citymap_scrollto_building (building) {
		const location = building.position;
		const view_width = parseInt($('.ui > .viewport').width(), 10);
		const view_height = parseInt($('.ui > .viewport').height(), 10);
		$('.viewport').scrollTop(location.y - ((view_height - 260) / 2));
		$('.viewport').scrollLeft(location.x - ((view_width - 260) / 2));
		return this;
	}

	/**
	 * Get the middle coordonates of a hex cell.
	 *
	 * @public
	 * @param {Number} row
	 * @param {Number} column
	 * @returns {Object}
	 */
	get_cell_middle_coords (row, column) {
		const height = Math.sqrt(3) / 2 * game.WORLD_HEX_SIZE;
		return {
			x: Math.round((1.5 * column) * game.WORLD_HEX_SIZE),
			y: Math.round(height * (row * 2 + (column % 2)))
		};
	}

	/**
	 * Get a random HSL color.
	 *
	 * @public
	 * @returns {String}
	 */
	get_random_color () {
		let color = (Math.random() * 250) + 1;
		let colors = Math.random() * 255;
		return "hsl(" + (color * (360 / colors) % 360) + ", 50%, 50%)";
	}
}
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.3</a> on Wed Jul 24 2019 08:14:22 GMT+0300 (Eastern European Summer Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
